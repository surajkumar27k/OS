<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Adaptive Hybrid Scheduler â€” OS Simulation</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- WebGL canvas for shader background -->
  <canvas id="gl-bg-canvas" aria-hidden="true"></canvas>

  <header class="site-header">
    <div class="container header-inner">
      <div class="header-left">
        <h1 class="project-title">Adaptive Hybrid Scheduler</h1>
        <p class="project-tagline">Hybrid (RMS + EDF) scheduler with Energy-Aware DVFS simulation for real-time systems</p>
      </div>

      <div class="header-right">
        <nav class="top-nav">
          <a href="https://github.com/surajkumar27k/OS" target="_blank" rel="noopener">Repository</a>
          <a href="#features">Features</a>
          <a href="#demo">Demo</a>
          <a href="#run">Run</a>
        </nav>

        <button id="theme-toggle" class="theme-toggle" aria-pressed="false" title="Toggle dark/light theme">
          <span id="theme-icon">ðŸŒ™</span>
          <span class="visually-hidden">Toggle theme</span>
        </button>

        <button id="bg-toggle" class="theme-toggle" aria-pressed="true" title="Toggle background animations">
          <span id="bg-icon">âœ¨</span>
          <span class="visually-hidden">Toggle background</span>
        </button>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div class="hero-left">
        <h2>Design and Simulation of an Adaptive Hybrid Scheduling Framework</h2>
        <p class="lead">Combine RMS for critical periodic tasks with EDF for dynamic tasks and add an energy-aware DVFS module to reduce power while meeting deadlines.</p>
        <div class="cta">
          <a class="btn" href="#demo">Open Demo</a>
          <a class="btn ghost" href="README.md" target="_blank">Read README</a>
        </div>
      </div>
      <div class="hero-right">
        <div class="card">
          <h3>Quick Stats</h3>
          <ul>
            <li>Languages: JavaScript, CSS, HTML</li>
            <li>Simulation: Browser demo (interactive) + recommended Python/C++ backends</li>
            <li>Visualizations: Interactive Gantt chart & metrics</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Demo / Controls / Gantt markup (keep your existing content) -->
    <section id="demo" class="demo">
      <!-- Keep same demo markup you already have (controls, gantt container, etc.) -->
      <!-- ... -->
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>Â© 2025 P S SURAJ KUMAR â€” Adaptive Hybrid Scheduler</p>
      <p><a href="https://github.com/surajkumar27k/OS" target="_blank">GitHub Repository</a></p>
    </div>
  </footer>

  <!-- WebGL shader background controller -->
  <script src="background-gl.js"></script>

  <!-- Theme + UI toggles (merge with your existing theme code if needed) -->
  <script>
  (function() {
    const root = document.documentElement;
    const toggle = document.getElementById('theme-toggle');
    const icon = document.getElementById('theme-icon');
    const KEY = 'site-theme';

    function setTheme(theme) {
      if (theme === 'dark') {
        root.classList.add('dark');
        toggle.setAttribute('aria-pressed', 'true');
        icon.textContent = 'ðŸŒ™';
      } else {
        root.classList.remove('dark');
        toggle.setAttribute('aria-pressed', 'false');
        icon.textContent = 'â˜€ï¸';
      }
      if (window.ShaderBG && window.ShaderBG.setTheme) window.ShaderBG.setTheme(theme);
    }

    const saved = localStorage.getItem(KEY);
    if (saved === 'dark' || saved === 'light') {
      setTheme(saved);
    } else {
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      setTheme(prefersDark ? 'dark' : 'light');
    }

    toggle.addEventListener('click', () => {
      const isDark = root.classList.contains('dark');
      const newTheme = isDark ? 'light' : 'dark';
      setTheme(newTheme);
      localStorage.setItem(KEY, newTheme);
    });

    // background toggle
    const bgToggle = document.getElementById('bg-toggle');
    const bgIcon = document.getElementById('bg-icon');
    let bgOn = true;
    bgToggle.addEventListener('click', () => {
      bgOn = !bgOn;
      bgToggle.setAttribute('aria-pressed', String(bgOn));
      bgIcon.textContent = bgOn ? 'âœ¨' : 'â›”';
      if (window.ShaderBG) window.ShaderBG.setEnabled(bgOn);
    });
  })();
  </script>

  <!-- Your existing simulator script should come after the background so UI overlays properly -->
  <script src="script.js"></script>
</body>
</html>
